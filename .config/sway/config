# Read `man 5 sway` for a complete reference.
set $mod Mod4
set $alt Mod1

set $term kitty
set $menu wofi --show drun | xargs swaymsg exec --
set $dmenu wofi --show run | xargs swaymsg exec -- 

# config for my laptop
set $main_out LVDS-1
set $alt_out HDMI-A-1
#: Backgrounds
set $bg1 "$HOME/Pictures/Bg/macos_seqoia.jpg"

set $left h
set $down j
set $up k
set $right l
set $resize_mode "Resize/Move mode"
set $workspace_mode "Workspaces mode"

# BIT IMPORTANT 
include /etc/sway/config.d/*

# Idle 5 minutes, monitor off 10 minutes
exec swayidle -w \
         timeout 300 'swaylock -f -c 282828 -k' \
         timeout 600 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
         before-sleep 'playerctl pause; swaylock -f -c 282828 -k'

assign [class="Spotify"] 3
assign [class="Vesktop"] 3
assign [class="steam"] 2
for_window [app_id="pavucontrol"] floating enable
for_window [app_id="io.ente.auth"] floating enable

floating_modifier $mod normal
focus_follows_mouse always

default_border pixel 2
smart_borders no_gaps
smart_gaps off
gaps vertical 2
gaps inner 4
gaps horizontal 6

input * {
    xkb_layout pl,pl
    xkb_variant colemak,
    xkb_options caps:backspace
}

#: Media keys with --locked
bindsym --locked {
    XF86AudioPlay exec playerctl play-pause
    XF86AudioPause exec playerctl pause
    XF86AudioStop exec playerctl stop
    XF86AudioPrev exec playerctl previous
    XF86AudioNext exec playerctl next
    XF86AudioRaiseVolume exec amixer set Master 4%+
    XF86AudioLowerVolume exec amixer set Master 4%-
    #pactl raises volume above 100% (bad)
    #XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%
    #XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%
    XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle
    XF86AudioMicMute exec pactl set-source-mute @DEFAULT_SINK@ toggle
}

bindsym {
#: Modes
    $mod+r mode $resize_mode
    $mod+w mode $workspace_mode
#: Keyboard layout
    $mod+$alt+grave input * xkb_switch_layout next
    $mod+$alt+Escape reload
    $mod+$alt+BackSpace exec swaymsg exit
    $mod+$alt+q exec 'playerctl pause; swaylock -f -c 282828 -k'
#: Launch binds
    $mod+Return exec $term
    $mod+space exec $menu
    $mod+d exec $dmenu
    $mod+Shift+q kill
# this aint working!!
    $mod+c exec wl-copy
    $mod+v exec wl-paste
#: screenshot
    Print exec grim -g $(slurp -d) "$HOME/Pictures/Screenshots/$(date +'%s_grim.png')"
#: mark
    $mod+m mark --add "marker"
    $mod+Shift+m unmark
    $mod+$alt+m [con_mark="marker"] focus

    #: toggle big screen
    $mod+Shift+d output $alt_out toggle
    $mod+a focus output $main_out
    $mod+Shift+a focus output $alt_out
#: Motion binds 
    $mod+$left focus left
    $mod+$down focus down
    $mod+$up focus up
    $mod+$right focus right

    $mod+Shift+$left move left
    $mod+Shift+$down move down
    $mod+Shift+$up move up
    $mod+Shift+$right move right
#: Windows binds
    $mod+Shift+v splitv
    $mod+Shift+s splith
    $mod+Shift+p focus parent
    $mod+f fullscreen
    #: current container
    $mod+t layout toggle split
    $mod+Shift+t layout tabbed

    #: focus tiling area or floating area
    $mod+x focus mode_toggle
    $mod+Shift+x floating toggle
#: Scratchpad
    $mod+z scratchpad show
    $mod+Shift+z move scratchpad
#: Workspace binds
    $mod+n workspace next
    $mod+p workspace prev
    $mod+Tab workspace back_and_forth
    #$alt+Tab exec swayr switch-window

    $mod+1 workspace number 1
    $mod+2 workspace number 2
    $mod+3 workspace number 3
    $mod+4 workspace number 4
    $mod+5 workspace number 5
    $mod+6 workspace number 6
    $mod+7 workspace number 7
    $mod+8 workspace number 8
    $mod+9 workspace number 9
    #: move
    $mod+shift+1 move container to workspace number 1
    $mod+Shift+2 move container to workspace number 2
    $mod+Shift+3 move container to workspace number 3
    $mod+Shift+4 move container to workspace number 4
    $mod+Shift+5 move container to workspace number 5
    $mod+Shift+6 move container to workspace number 6
    $mod+Shift+7 move container to workspace number 7
    $mod+Shift+8 move container to workspace number 8
    $mod+Shift+9 move container to workspace number 9
}

mode $workspace_mode {
    bindsym {
        Escape mode "default"
        $mod+w mode "default"
        n workspace next
        p workspace prev

        1 workspace number 1
        2 workspace number 2
        3 workspace number 3
        4 workspace number 4
        5 workspace number 5
        6 workspace number 6
        7 workspace number 7
        8 workspace number 8
        9 workspace number 9
        #: move and switch
        Shift+1 move container to workspace number 1; workspace number 1
        Shift+2 move container to workspace number 2; workspace number 2
        Shift+3 move container to workspace number 3; workspace number 3
        Shift+4 move container to workspace number 4; workspace number 4
        Shift+5 move container to workspace number 5; workspace number 5
        Shift+6 move container to workspace number 6; workspace number 6
        Shift+7 move container to workspace number 7; workspace number 7
        Shift+8 move container to workspace number 8; workspace number 8
        Shift+9 move container to workspace number 9; workspace number 9
    }
}

mode $resize_mod {
    bindsym {
        Escape mode "default"
        $mod+r mode "default"
        v splitv
        s splith

        $down resize grow height 20px
        $up resize shrink height 20px
        $left resize shrink width 20px
        $right resize grow width 20px

        equal resize grow height 20px
        minus resize shrink height 20px
        period resize grow width 20px
        comma resize shrink width 20px

        Up move up
        Down move down
        Left move left
        Right move right
    }
}
#: man 5 sway-bar
#bar {
    #swaybar_command waybar
    #modifier none
    #position top
    ##status_command while date +'%a %d %b %H:%M'; do sleep 29; done
    #colors {
        #statusline #ffffff
        #background #323232
        #inactive_workspace #323232 #323232 #5c5c5c
    #}
#}
#$mod+b bar mode toggle
bindsym $mod+Shift+b exec 'killall -SIGUSR1 waybar'
exec waybar
exec mako
# notification daemon

#: Output configuration : swaymsg -t get_outputs
output $main_out bg $bg1 fill
#output $alt_out bg $bg1 stretch
#: Laptop lid
#bindswitch --reload --locked lid:on output $o_hdmi disable
#bindswitch --reload --locked lid:off output $o_hdmi enable

# vim: filetype=swayconfig
